<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미대출 도서 추천</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        $(function () {
            let updateSliderFields = () => {
                let values = $("#slider-range").slider("values")
                $('#from').val(values[0]);
                $('#to').val(values[1]);
                $("#amount").val(`       ${values[0]}년 - ${values[1]}년`);
            }

            $("#slider-range").slider({
                range: true,
                min: 1974,
                max: 2019,
                values: [1990, 2010],
                slide: updateSliderFields
            });

            updateSliderFields();
        });
    </script>

    <STYLE>
        .subCats {
            display: none;
            margin-left: 20px;
        }

        .sub {
            display: none;
            margin-left: 20px;
        }

        .subM {
            display: none;
            margin-left: 20px;
        }

        #amount {
            border: 0;
            color: #f6931f;
            font-weight: bold;
        }
    </STYLE>
    <SCRIPT>
        function toggleShow(radio) {
            var id = 'subCats' + radio.id;
            var subCats =
                document.all ? document.all[id] :
                    document.getElementById ? document.getElementById(id) :
                        null;
            if (subCats) {
                if (subCats.style.display == '' ||
                    subCats.style.display == 'none')
                    subCats.style.display = 'block';
                else
                    subCats.style.display = 'none';
            }
        }
        function toggleShow2(checkbox) {
            var id = 'sub' + checkbox.id;
            var sub =
                document.all ? document.all[id] :
                    document.getElementById ? document.getElementById(id) :
                        null;
            if (sub) {
                if (sub.style.display == '' ||
                    sub.style.display == 'none')
                    sub.style.display = 'block';
                else
                    sub.style.display = 'none';
            }
        }
        function toggleShow3(checkbox) {
            var id = 'subM' + checkbox.id;
            var subM =
                document.all ? document.all[id] :
                    document.getElementById ? document.getElementById(id) :
                        null;
            if (subM) {
                if (subM.style.display == '' ||
                    subM.style.display == 'none')
                    subM.style.display = 'block';
                else
                    subM.style.display = 'none';
            }
        }
    </SCRIPT>
</head>

<body>
    <h1>
        <center style="margin-top: 2rem;">미대출 도서 추천</center>
    </h1>
    <br>
    <div class='container'>
        <center>
            <form action="{%url 'search'%}" method="get">
                <input type="text" name='search'>
                <input type="submit" value='제목검색' class="btn btn-primary">
            </form>

            <FORM NAME="myForm" method="GET" action="{%url 'search_result'%}">
                <!--대분류1-->
                <label for="0">여자</label><INPUT TYPE="radio" NAME="gender" ONCLICK="toggleShow(this)" value="F" id="0">
                <!--하위 분류1-->
                <DIV ID="subCats0" CLASS="subCats">
                    <!--하위 분류2-->
                    <label for="10">10대 이하</label><INPUT TYPE="checkbox" NAME="age[]" ONCLICK="toggleShow2(this)"
                        value='10' id='10'>
                    <div id="sub10" Class="sub">
                        <label for="101">과학</label><INPUT TYPE="checkbox" NAME="category_name[]" value="과학" id="101">
                        <label for="102">만화/오락</label><INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락"
                            id="102">
                        <label for="103">청소년교육</label><INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육"
                            id="103">
                    </div>
                    <label for="20">20대</label><INPUT TYPE="checkbox" NAME="age[]" id='20' value='20'
                        ONCLICK="toggleShow2(this)">
                    <div id="sub20" Class="sub">
                        <label for="201">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'
                            id='201'>
                        <label for="202">소설</label><INPUT TYPE="checkbox" NAME="category_name[]" value='소설' id='202'>
                        <label for="203">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value='자기계발/창업'
                            id='203'>
                    </div>
                    <label for="30">30대</label><INPUT TYPE="checkbox" NAME="age[]" id='30' value='30'
                        ONCLICK="toggleShow2(this)">
                    <div id="sub30" Class="sub">
                        <label for="301">만화/오락</label><INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락"
                            id="301">
                        <label for="302">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'
                            id='302'>
                        <label for="303">청소년교육</label><INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육"
                            id='303'>
                    </div>
                    <label for="40">40대</label><INPUT TYPE="checkbox" NAME="age[]" id='40' value='40'
                        ONCLICK="toggleShow2(this)">
                    <div id="sub40" Class="sub">
                        <label for="401">만화/오락</label><INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락"
                            id="401">
                        <label for="402">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'
                            id='402'>
                        <label for="403">청소년교육</label><INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육"
                            id='403'>
                    </div>
                    <label for="50">50대</label><INPUT TYPE="checkbox" NAME="age[]" id='50' value='50'
                        ONCLICK="toggleShow2(this)">
                    <div id="sub50" Class="sub">
                        <label for="501">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'
                            id='501'>
                        <label for="502">소설</label><INPUT TYPE="checkbox" NAME="category_name[]" value='소설' id='502'>
                        <label for="503">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value='자기계발/창업'
                            id='503'>
                    </div>
                    <label for="60">60대 이상</label><INPUT TYPE="checkbox" NAME="age[]" id='60' value='60'
                        ONCLICK="toggleShow2(this)">
                    <div id="sub60" Class="sub">
                        <label for="601">만화/오락</label><INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락"
                            id='601'>
                        <label for="602">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'
                            id='602'>
                        <label for="603">청소년교육</label><INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육"
                            id='603'>
                    </div>
                </DIV>
                <BR>
                <!--대분류2-->
                <label for="1">남자</label><INPUT TYPE="radio" id='1' NAME="gender" ONCLICK="toggleShow(this)" value='M'>
                <BR>
                <!--하위 분류2-->
                <DIV ID="subCats1" CLASS="subCats">
                    <label for="10">10대 이하</label><INPUT TYPE="checkbox" NAME="age" id='10' ONCLICK="toggleShow3(this)"
                        value='10'>
                    <!--하위 분류-->
                    <div id="subM10" Class="subM">
                        <label for="1101">청소년교육</label><INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육"
                            id='1101'>
                        <label for="1102">만화/오락</label><INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락"
                            id='1102'>
                        <label for="1103">과학</label><INPUT TYPE="checkbox" NAME="category_name[]" value="과학" id='1103'>
                    </div>
                    <label for="20">20대</label><INPUT TYPE="checkbox" NAME="age" id='20' ONCLICK="toggleShow3(this)"
                        value='20'>
                    <div id="subM20" Class="subM">
                        <label for="1201">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value="자기계발/창업"
                            id='1201'>
                        <label for="1202">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value="문학/여행"
                            id='1202'>
                        <label for="1203">취미/생활/IT</label><INPUT TYPE="checkbox" NAME="category_name[]" value="취미/생활/IT"
                            id='1203'>
                    </div>
                    <label for="30">30대</label><INPUT TYPE="checkbox" NAME="age" id='30' ONCLICK="toggleShow3(this)"
                        value='30'>
                    <div id="subM30" Class="subM">
                        <label for="1301">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value="자기계발/창업"
                            id='1301'>
                        <label for="1302">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value="문학/여행"
                            id='1302'>
                        <label for="1303">취미/생활/IT</label><INPUT TYPE="checkbox" NAME="category_name[]" value="취미/생활/IT"
                            id='1303'>
                    </div>
                    <label for="40">40대</label><INPUT TYPE="checkbox" NAME="age" id='40' ONCLICK="toggleShow3(this)"
                        value='40'>
                    <div id="subM40" Class="subM">
                        <label for="1401">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value="자기계발/창업"
                            id="1401">
                        <label for="1402">청소년교육</label><INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육"
                            id="1402">
                        <label for="1403">만화/오락</label><INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락"
                            id="1403">
                    </div>
                    <label for="50">50대</label><INPUT TYPE="checkbox" NAME="age" id='50' ONCLICK="toggleShow3(this)"
                        value='50'>
                    <div id="subM50" Class="subM">
                        <label for="1501">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value="문학/여행"
                            id='1501'>
                        <label for="1502">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value="자기계발/창업"
                            id='1502'>
                        <label for="1503">취미/생활/IT</label><INPUT TYPE="checkbox" NAME="category_name[]" value="취미/생활/IT"
                            id='1503'>
                    </div>
                    <label for="60">60대 이상</label><INPUT TYPE="checkbox" NAME="age" id='60' ONCLICK="toggleShow3(this)"
                        value='60'>
                    <div id="subM60" Class="subM">
                        <label for="1601">문학/여행</label><INPUT TYPE="checkbox" NAME="category_name[]" value="문학/여행"
                            id='1601'>
                        <label for="1602">세계사/역사</label><INPUT TYPE="checkbox" NAME="category_name[]" value="세계사/역사"
                            id='1602'>
                        <label for="1603">자기계발/창업</label><INPUT TYPE="checkbox" NAME="category_name[]" value="자기계발/창업"
                            id='1603'>
                    </div>
                </DIV>
                <br>
                <!-- <label for="amount">출판연도</label> -->
                <div id="slider-range"></div>
                <input type="text" id="amount" readonly aria-valuemin="" />
                </p>
                <input type="hidden" id="from" name="year1" />
                <input type="hidden" id="to" name="year2" />
                <input type="submit" value="검색" id="search_button" class="btn btn-primary">
            </FORM>
            <br>
            <hr>
        </center>
    </div>

    <div class=container>
        <center>
            <div class="mt-5 mb-5" id="list" style="height:100vh; width:70vw;">
                <div class=" row">
                    {%for i in library_list_f%}
                    <div class="col-sm-12 col-md-4 mb-5">
                        <div class="card" style="width: 18rem;">
                            <img src='{{i.url}}' width='200px' height='400px' class=" card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">{{i.book_name}}</h5>
                                <p class="card-text">{{i.explain}}</p>
                                <a href="https://library.daegu.go.kr/duryu/intro/search/index.do?menu_idx=13&booktype=BOOKANDNONBOOK&title={{i.book_name}}#search_result"
                                    class="btn btn-primary">두류도서관 검색</a>
                                <a href="https://www.google.com/search?q={{i.book_name}}&oq={{i.book_name}}5&aqs=chrome..69i57.1217j0j9&sourceid=chrome&ie=UTF-8"
                                    class="btn btn-primary">구글 검색</a>
                            </div>
                        </div>
                    </div>
                    {%endfor%}
                </div>
            </div>
        </center>
    </div>
</body>

</html>
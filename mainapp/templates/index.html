<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미대출 도서 추천</title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            test();
        });
    </script>

    <STYLE>
        .subCats {
            display: none;
            margin-left: 20px;
        }

        .sub {
            display: none;
            margin-left: 20px;
        }
    </STYLE>
    <SCRIPT>
        function toggleShow(checkbox) {
            var id = 'subCats' + checkbox.id;
            var subCats =
                document.all ? document.all[id] :
                    document.getElementById ? document.getElementById(id) :
                        null;
            if (subCats) {
                if (subCats.style.display == '' ||
                    subCats.style.display == 'none')
                    subCats.style.display = 'block';
                else
                    subCats.style.display = 'none';
            }
        }
        function toggleShow2(checkbox) {
            var id = 'sub' + checkbox.id;
            var sub =
                document.all ? document.all[id] :
                    document.getElementById ? document.getElementById(id) :
                        null;
            if (sub) {
                if (sub.style.display == '' ||
                    sub.style.display == 'none')
                    sub.style.display = 'block';
                else
                    sub.style.display = 'none';
            }
        }
    </SCRIPT>
</head>

<body>
    <h1>
        <center style="margin-top: 2rem;">미대출 도서 추천</center>
    </h1>



    <FORM NAME="myForm" method="GET" action="{%url 'search_result'%}">
        <!--대분류1-->
        <label for="F">여자</label><INPUT TYPE="checkbox" NAME="gender" ONCLICK="toggleShow(this)" value="F" id="0">

        <!--하위 분류1-->
        <DIV ID="subCats0" CLASS="subCats">

            <INPUT TYPE="checkbox" NAME="age" ONCLICK="toggleShow2(this)" vaule='10' id='10'>
            10대 이하
            <div id="sub10" Class="sub">
                <INPUT TYPE="checkbox" NAME="category_name[]" value="과학">
                1.과학
                <INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락">
                2.만화/오락
                <INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육">
                3.청소년교육
            </div>
            <INPUT TYPE="checkbox" NAME="age" id='20' vaule='20' ONCLICK="toggleShow2(this)">
            20대
            <div id="sub20" Class="sub">
                <INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'>
                1.문학/여행
                <INPUT TYPE="checkbox" NAME="category_name[]" value='소설'>
                2.소설
                <INPUT TYPE="checkbox" NAME="category_name[]" value='자기계발/창업'>
                3.자기계발/창업
            </div>
            <INPUT TYPE="checkbox" NAME="age" id='30' vaule='30' ONCLICK="toggleShow2(this)">
            30대
            <div id="sub30" Class="sub">
                <INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락">
                1.만화/오락
                <INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'>
                2.문학/여행
                <INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육">
                3.청소년교육
            </div>
            <INPUT TYPE="checkbox" NAME="age" id='40' vaule='40' ONCLICK="toggleShow2(this)">
            40대
            <div id="sub40" Class="sub">
                <INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락">
                1.만화/오락
                <INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'>
                2.문학/여행
                <INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육">
                3.청소년교육
            </div>
            <INPUT TYPE="checkbox" NAME="age" id='50' vaule='50' ONCLICK="toggleShow2(this)">
            50대
            <div id="sub50" Class="sub">
                <INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'>
                1.문학/여행
                <INPUT TYPE="checkbox" NAME="category_name[]" value='소설'>
                2.소설
                <INPUT TYPE="checkbox" NAME="category_name[]" value='자기계발/창업'>
                3.자기계발/창업
            </div>
            <INPUT TYPE="checkbox" NAME="age" id='60' vaule='60' ONCLICK="toggleShow2(this)">
            60대 이상
            <div id="sub60" Class="sub">
                <INPUT TYPE="checkbox" NAME="category_name[]" value="만화/오락">
                1.만화/오락
                <INPUT TYPE="checkbox" NAME="category_name[]" value='문학/여행'>
                2.문학/여행
                <INPUT TYPE="checkbox" NAME="category_name[]" value="청소년교육">
                3.청소년교육
            </div>
        </DIV>
        <BR>
        <!--대분류2-->
        <label for="M">남자</label><INPUT TYPE="checkbox" NAME="gender" ONCLICK="toggleShow(this)" id='1' value='M'>
        <BR>

        <!--하위 분류2-->
        <DIV ID="subCats1" CLASS="subCats">
            <INPUT TYPE="checkbox" NAME="10">
            10대 이하
            <INPUT TYPE="checkbox" NAME="20">
            20대
            <INPUT TYPE="checkbox" NAME="30">
            30대
            <INPUT TYPE="checkbox" NAME="40">
            40대
            <INPUT TYPE="checkbox" NAME="50">
            50대
            <INPUT TYPE="checkbox" NAME="60">
            60대 이상
        </DIV>
        <br>
        <hr>
        <font size=5 id="slider_value_view">2009</font>년
        2009년<input style="width:80%;" class="slider_range" name="year" type="range" value="2009" min="2009"
            max="2019"></input>2019년
        <input type="submit" value="검색" id="search_button">
    </FORM>


    <!-- 성,연령별, 출판연도별 -->
    <!-- <div class="Container">
        <form action="{%url 'search_result'%}" method="GET">
            <label for="F" style="font-size: 28px;">여자</label><input type="checkbox" name='gender[]' id='F' value='F'
                style="zoom:2.0;">
            <label for="M" style="font-size: 28px;">남자</label><input type="checkbox" name='gender[]' id='M' value='M'
                style="zoom:2.0;">
            <br><br>
            <label for="10" style="font-size: 28px;">10대이하</label><input type="checkbox" name='age[]' id='10' value='10'
                style="zoom:2.0;">
            <label for="20" style="font-size: 28px;">20대 </label><input type="checkbox" name='age[]' id='20' value='20'
                style="zoom:2.0;">
            <label for="30" style="font-size: 28px;">30대 </label><input type="checkbox" name='age[]' id='30' value='30'
                style="zoom:2.0;">
            <label for="40" style="font-size: 28px;">40대 </label><input type="checkbox" name='age[]' id='40' value='40'
                style="zoom:2.0;">
            <label for="50" style="font-size: 28px;">50대 </label><input type="checkbox" name='age[]' id='50' value='50'
                style="zoom:2.0;">
            <label for="60" style="font-size: 28px;">60대이상 </label><input type="checkbox" name='age[]' id='60'
                value='60' style="zoom:2.0;">
            <br>
            <hr>
            <font size=5 id="slider_value_view">2009</font>년
            2009년<input style="width:80%;" class="slider_range" name="year" type="range" value="2009" min="2009"
                max="2019"></input>2019년
            <input type="submit" value="검색" id="search_button">
        </form>
    </div> -->

    <script language="javascript">

        function ShowSliderValue(sVal) {
            var obValueView = document.getElementById("slider_value_view");
            obValueView.innerHTML = sVal
        }

        var RangeSlider = function () {
            var range = $('.slider_range');

            range.on('input', function () {
                ShowSliderValue(this.value);
            });
        };

        RangeSlider();
    </script>

    <!-- <div id='test_view'>
        <input type="hidden" id='test_value' value='1'>
    </div>

    <script>
        function test() {
            var x = $('#test_value').val();
            $.ajax({
                type: 'POST',
                url: '/ajax_test/',
                data: { number: x },
                dataType: 'json',

                success: function (result) {
                    $('#test_view').html('<p>' + result[x] + '</p>');
                },
                error: function (e) { console.log('error:' + e.status); }
            })
        }
    </script> -->
    <div class=container>
        <center>
            <div class="mt-5 mb-5" id="list" style="height:100vh; width:70vw;">
                <div class=" row">
                    {%for i in library_list_f%}
                    <div class="col-sm-12 col-md-4 mb-5">
                        <div class="card" style="width: 18rem;">
                            <img src='{{i.url}}' width='200px' height='400px' class=" card-img-top" alt="...">
                            <div class="card-body">
                                <h5 class="card-title">{{i.book_name}}</h5>
                                <p class="card-text">{{i.explain}}</p>
                                <a href="https://library.daegu.go.kr/duryu/intro/search/index.do?menu_idx=13&booktype=BOOKANDNONBOOK&title={{i.book_name}}#search_result"
                                    class="btn btn-primary">두류도서관 검색</a>
                                <a href="https://www.google.com/search?q={{i.book_name}}&oq={{i.book_name}}5&aqs=chrome..69i57.1217j0j9&sourceid=chrome&ie=UTF-8"
                                    class="btn btn-primary">구글 검색</a>
                            </div>
                        </div>
                    </div>
                    {%endfor%}
                </div>
            </div>
        </center>
    </div>

</body>

</html>